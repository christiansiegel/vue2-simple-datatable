{"version":3,"file":"vue2-simple-datatable.min.js","sources":["../node_modules/v-debounce/index.js","../node_modules/v-debounce/debounce.js","../src/components/vue2-simple-datatable.vue","../src/components/paginator.vue","../src/main.js"],"sourcesContent":["const debounce = require('./debounce')\r\n\r\ndirective.debounce = debounce\r\n\r\n// Attach directive to element and wait for input to stop. Default timeout 800ms or 0.8s.\r\nfunction directive (el, bind) {\r\n  if (bind.value !== bind.oldValue) { // change debounce only if interval has changed\r\n    el.oninput = directive.debounce(function (e) {\r\n      el.dispatchEvent(createNewEvent('change'))\r\n    }, parseInt(bind.value) || 800)\r\n  }\r\n}\r\n\r\n// IE Support\r\nfunction createNewEvent(eventName) {\r\n  if (typeof(Event) === 'function') {\r\n    var e = new Event(eventName)\r\n  } else {\r\n    var e = document.createEvent('Event')\r\n    e.initEvent(eventName, true, true)\r\n  }\r\n  return e\r\n}\r\n\r\nmodule.exports = directive\r\n","module.exports = function debounce (fn, delay) {\r\n  var timeoutID = null\r\n  return function () {\r\n    clearTimeout(timeoutID)\r\n    var args = arguments\r\n    var that = this\r\n    timeoutID = setTimeout(function () {\r\n      fn.apply(that, args)\r\n    }, delay)\r\n  }\r\n}\r\n","<template>\r\n  <div>\r\n    <table class=\"table table-striped\">\r\n      <thead>\r\n        <tr>\r\n          <th v-for=\"column in columns\" :key=\"column\" scope=\"col\">\r\n            <a class=\"text-dark btn\" href=\"#\" v-on:click=\"sortBy(column, $event)\">\r\n              {{ column }}\r\n              <i v-bind:class=\"sortIconClasses(column)\"></i>\r\n            </a>\r\n          </th>\r\n        </tr>\r\n        <tr>\r\n          <th v-for=\"column in columns\" :key=\"'search_' + column\" scope=\"col\">\r\n            <div class=\"input-group\">\r\n              <input type=\"text\" class=\"form-control\" v-model.lazy=\"search[column]\" v-debounce=\"500\" v-bind:placeholder=\"filterByText(column)\">\r\n            </div>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(row, index) in rows\" :key=\"index\">\r\n          <td v-for=\"column in columns\" :key=\"column+index\">{{ row[column] }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <paginator :total=\"totalPages\" :current=\"currentPage\" v-on:select=\"selectPage\"></paginator>\r\n    <p class=\"small text-center\">{{ countText }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import debounce from 'v-debounce'\r\n  import Paginator from './paginator.vue'\r\n\r\n  export default {\r\n    components: {\r\n      'paginator': Paginator\r\n    },\r\n    directives: {\r\n      debounce\r\n    },\r\n    props: {\r\n      data: {\r\n        type: Array,\r\n        default: []\r\n      },\r\n      columns: {\r\n        type: Array,\r\n        default: []\r\n      }\r\n    },\r\n    data: () => ({\r\n      limit: 10,\r\n      currentPage: 0,\r\n      sort: undefined,\r\n      ascending: true, // false = descending\r\n      search: {},\r\n      i18n: {\r\n        countPagedN: 'Showing {from} to {to} of {count} records',\r\n        countN: '{count} records',\r\n        count1: 'One record',\r\n        count0: 'No records',\r\n        filterBy: 'Filter by {column}'\r\n      }\r\n    }),\r\n    computed: {\r\n      totalPages: function () {\r\n        return Math.ceil(this.total / this.limit)\r\n      },\r\n      filteredData: function() {\r\n        const that = this\r\n        const searchedCols = Object.keys(this.search)\r\n        let colMatch = function(row, colName) {\r\n          const colVal = row[colName].toLowerCase()\r\n          const searchVal = that.search[colName].toLowerCase()\r\n          return !searchVal || colVal.includes(searchVal);\r\n        }\r\n        let rowMatch = function(row) {\r\n          return searchedCols.map(col => colMatch(row, col))\r\n                             .every(found => found === true)\r\n        }\r\n        return this.data.filter(row => rowMatch(row))\r\n      },\r\n      filteredAndSortedData: function() {\r\n        let rows = this.filteredData\r\n        if(this.sort) {\r\n          const col = this.sort\r\n          if(this.ascending) {\r\n            rows.sort((a, b) => (a[col] > b[col]) - (a[col] < b[col]))\r\n          } else {\r\n            rows.sort((b, a) => (a[col] > b[col]) - (a[col] < b[col]))\r\n          }\r\n        }\r\n        return rows\r\n      },\r\n      rows: function () {\r\n        return this.filteredAndSortedData.slice(this.offset, this.offset + this.limit)\r\n      },\r\n      total: function () {\r\n        return this.filteredData.length\r\n      },\r\n      offset: function () {\r\n        return this.limit * this.currentPage\r\n      },\r\n      countText: function() {\r\n        if (this.totalPages === 1) {\r\n          if (this.total === 0) return this.i18n.count0\r\n          if (this.total === 1) return this.i18n.count1\r\n          return this.i18n.countN.replace('{count}', this.total);\r\n        }\r\n        return this.i18n.countPagedN.replace('{from}', this.offset + 1)\r\n                                    .replace('{to}', this.offset + this.limit)\r\n                                    .replace('{count}', this.total);\r\n      }\r\n    },\r\n    watch: {\r\n      filteredData: function() {\r\n        this.currentPage = 0\r\n      }\r\n    },\r\n    methods: {\r\n      selectPage: function (page) {\r\n        this.currentPage = page\r\n      },\r\n      sortBy: function (column, event) {\r\n        event.preventDefault();\r\n        if (this.sort === column) {\r\n          this.ascending = !this.ascending\r\n        } else {\r\n          this.sort = column\r\n          this.ascending = true\r\n        }\r\n      },\r\n      sortIconClasses: function (column) {\r\n        if (this.sort !== column) return ['fa', 'fa-sort']\r\n        if (this.ascending === true) return ['fa', 'fa-sort-up']\r\n        return ['fa', 'fa-sort-down']\r\n      },\r\n      filterByText: function(column) {\r\n        return this.i18n.filterBy.replace('{column}', column)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n","<template>\n  <nav aria-label=\"Page navigation\">\n    <ul class=\"pagination justify-content-center\">\n      <li v-bind:class=\"['page-item', { 'disabled': currentChunk <= 0 }]\">\n        <a class=\"page-link\" href=\"#\" v-on:click=\"first\" aria-label=\"First\">\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li v-bind:class=\"['page-item', { 'disabled': current <= 0 }]\">\n        <a class=\"page-link\" href=\"#\" v-on:click=\"decrease\" aria-label=\"Previous\">\n          <span aria-hidden=\"true\">&lsaquo;</span>\n        </a>\n      </li>\n      <li v-bind:class=\"['page-item', { 'active': item === current }]\" v-for=\"item in items\" :key=\"item\">\n        <a class=\"page-link\" href=\"#\" v-on:click=\"select(item, $event)\">{{ item + 1 }}</a>\n      </li>\n      <li v-bind:class=\"['page-item', { 'disabled': current >= total - 1 }]\">\n        <a class=\"page-link\" href=\"#\" v-on:click=\"increase\" aria-label=\"Next\">\n          <span aria-hidden=\"true\">&rsaquo;</span>\n        </a>\n      </li>\n      <li v-bind:class=\"['page-item', { 'disabled': currentChunk >= totalChunks - 1 }]\">\n        <a class=\"page-link\" href=\"#\" v-on:click=\"last\" aria-label=\"Last\">\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\n  export default {\n    props: {\n      total: Number,\n      current: Number\n    },\n    data: () => ({\n      chunkSize: 10,\n    }),\n    computed: {\n      totalChunks: function () {\n        return Math.ceil(this.total / this.chunkSize)\n      },\n      currentChunk: function () {\n        return Math.floor(this.current / this.chunkSize)\n      },\n      items: function () {\n        const first = this.currentChunk * this.chunkSize\n        const len = (first + this.chunkSize) > this.total ? this.total - first : this.chunkSize\n        return Array(len).fill(0).map((e,i)=>first + i)\n      }\n    },\n    methods: {\n      select: function (item, event) {\n        event.preventDefault();\n        this.$emit('select', item)\n      },\n      increase: function (event) {\n        event.preventDefault();\n        this.$emit('select', this.current + 1)\n      },\n      decrease: function (event) {\n        event.preventDefault();\n        this.$emit('select', this.current - 1)\n      },\n      first: function (event) {\n        event.preventDefault();\n        this.$emit('select', 0)\n      },\n      last: function (event) {\n        event.preventDefault();\n        this.$emit('select', this.total - 1)\n      }\n    }\n  }\n</script>\n","/**\r\n * vue2-simple-datatable (https://github.com/christiansiegel/vue2-simple-datatable)\r\n * \r\n * Copyright (c) 2018 Christian Siegel\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\nimport vue2SimpleDatatable from './components/vue2-simple-datatable.vue';\r\n\r\nvar Vue2SimpleDatatable = {\r\n    install(Vue, options) {\r\n        if(options) {\r\n            let data = vue2SimpleDatatable.data()\r\n            Object.assign(data, options);\r\n            vue2SimpleDatatable.data = () => (data)\r\n        }\r\n        Vue.component('vue2-simple-datatable', vue2SimpleDatatable)\r\n    }\r\n};\r\n\r\nexport default Vue2SimpleDatatable;\r\n\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n    window.Vue.use(Vue2SimpleDatatable)\r\n}\r\n"],"names":["directive","el","bind","value","oldValue","oninput","debounce","e","dispatchEvent","eventName","Event","document","createEvent","initEvent","createNewEvent","parseInt","fn","delay","timeoutID","clearTimeout","args","arguments","that","this","setTimeout","apply","render","components","paginator","props","total","Number","current","data","chunkSize","computed","totalChunks","Math","ceil","currentChunk","floor","items","const","first","len","Array","fill","map","i","methods","select","item","event","preventDefault","$emit","increase","decrease","last","directives","type","default","columns","limit","currentPage","sort","undefined","ascending","search","i18n","countPagedN","countN","count1","count0","filterBy","totalPages","filteredData","searchedCols","Object","keys","rowMatch","row","col","colName","colVal","toLowerCase","searchVal","includes","colMatch","every","found","filter","filteredAndSortedData","let","rows","a","b","slice","offset","length","countText","replace","watch","selectPage","page","sortBy","column","sortIconClasses","filterByText","Vue2SimpleDatatable","install","Vue","options","vue2SimpleDatatable","assign","component","window","use"],"mappings":"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"}